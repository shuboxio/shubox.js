<% include layout/head %>

<div class="header">
  <h1>Directly Embedding JS File</h1>
  <h2>
    Instead of using a build toolchain like webpack you may directly embed
    the script.
  </h2>
</div>

<div class="content">
  <p>
    First, click the avatar below and select an image to upload and then view it.
    Go for it - it'll be fun!
  </p>

  <p>
    Second, this demo has the Shubox code embedded with a <code>script</code>
    tag instead of using webpack, or any build tools. View source to get a look.
  </p>

  <div class="avatar-container">
   <div id="avatar" class="avatar"></div>
  </div>
</div>


<script src="/shubox.umd.js"></script>
<script>
new Shubox("#avatar", {
  key: 'bf897b63-50f2-4055-b4f6-825e613f3d3e',
  signatureUrl: 'http://localhost:4101/signatures',
  uploadUrl: 'http://localhost:4101/uploads',
  previewsContainer: false,
  success: function(file) {
    img = new Image();
    img.onload = function() {
      el = document.getElementById('avatar')
      el.insertAdjacentHTML('beforeend', '<img src="'+file.s3url+'">')
    }
    img.src = file.s3url
  }
})
</script>

<% include layout/tail %>
